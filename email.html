<!-- 

    Using the documentation provided on the EmailJS website, this page can recieve user input from a HTML form and send an automatic email to the address provided.
    Here is the link to the docs that we used: 
    https://www.emailjs.com/docs/tutorial/creating-contact-form/ 

-->

<!DOCTYPE html>

<html>

<head>

    <title>EmailJS</title>

    <!-- This loads the EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>

    <script type="text/javascript">

        (function () {
            // this line initializes the SDK with the User ID we ontained when creating our account
            emailjs.init('user_Ys8NF4lZ1w8bB1saBzqXz');
        })();
    </script>

    <script type="text/javascript">

        window.onload = function () {

            // using an eventListener to register when the user clicks the submit button
            document.getElementById('contact-form').addEventListener('submit', function (event) {

                event.preventDefault();

                // getting the users email address from the form
                var email = document.getElementById("email").value;

                // getting the users name from the form
                var name = document.getElementById("name").value;

                // this is an object that is used by the EmailJS template for the email
                // these are needed to have the users name displayed in the email and to send it to their inbox
                // setting the variables to the users email and name
                var templateParams = {
                    email: email,
                    name: name,
                };

                // this function is responsible for sending the email 
                // the paramters are unique identifiers provided on our EmailJS account
                // the first parameter is a service id, which is what connects our email address with EmailJS 
                // the second is the template id, this will determine what the email says and is set up on the EmailJS dashboard
                emailjs.send('service_he5dnbc', 'template_9hbccd7', templateParams)
                    .then(function () {
                        // displays success to the console if the email was sent
                        console.log('SUCCESS!');
                    }, function (error) {
                        // displays failed to the console if the email was not sent
                        console.log('FAILED...', error);
                    });
            });
        }
    </script>
</head>

<body>

    <form id="contact-form">

        <label>Name</label>
        <input type="text" id="name" name="user_name">

        <label>Email</label>
        <input type="email" id="email" name="user_email">

        <input type="submit" value="Send">

    </form>
    
</body>

</html>